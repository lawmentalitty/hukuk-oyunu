<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta property="og:title" content="Paralel Evrende Hangi Hukuk Karakterisin?">
  <meta property="og:description" content="Hukuk karakterlerinden hangisi olduÄŸunu keÅŸfetmek iÃ§in bu eÄŸlenceli testi Ã§Ã¶z ve sonucunu paylaÅŸ!">
  <meta property="og:image" content="https://via.placeholder.com/1200x630/000000/00FF00?text=Paralel+Evren+Hukuk+Oyunu"> <meta property="og:url" content=""> 
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary_large_image">

  <title>Paralel Evrende Hangi Hukuk Karakterisin?</title>
  <style>
     * {
       box-sizing: border-box;
     }
     body {
       background-color: black;
       color: #00ff00;
       font-family: monospace;
       display: flex;
       flex-direction: column;
       align-items: center;
       justify-content: center;
       padding: 20px;
       min-height: 100vh;
       margin: 0;
       text-align: center;
     }
     h1 { 
       font-size: clamp(26px, 6vw, 40px); 
       font-weight: normal;
       color: #00dd00; 
       text-transform: uppercase;
       letter-spacing: 0.08em;
       width: 90%;
       margin-top: 20px; 
       margin-bottom: 25px; 
       line-height: 1.3;
     }
     .separator { 
         width: 70%;
         max-width: 350px;
         border: none;
         height: 1px;
         background: linear-gradient(to right, transparent, rgba(0,255,0,0.35), transparent);
         margin: 20px 0;
     }
     #result {
       font-size: clamp(32px, 8vw, 50px); 
       min-height: 50px; 
       margin-bottom: 5px; 
       font-weight: bold;
       color: #39FF14;
       opacity: 0; 
       padding: 10px; 
       transition: box-shadow 0.3s ease-out; 
     }
     #characterDescription {
        font-size: clamp(15px, 3.8vw, 18px);
        color: #00dd00; 
        margin-top: 5px; 
        margin-bottom: 15px; 
        line-height: 1.5;
        max-width: 90%; 
        opacity: 0; 
        transition: opacity 0.5s ease-in-out;
     }
     #characterDescription.visible {
        opacity: 1;
     }
     #result.flickering { 
       opacity: 1; 
       animation: flickerAnimation 0.2s infinite;
       box-shadow: none; 
     }
     #result.revealed { 
         animation: revealResultAnimation 0.6s ease-out forwards;
         box-shadow: 0 0 20px rgba(57, 255, 20, 0.25), 
                       0 0 8px rgba(57, 255, 20, 0.2) inset;
     }
     @keyframes flickerAnimation {
       0%, 100% { opacity: 1; }
       50% { opacity: 0.4; }
     }
     @keyframes revealResultAnimation { 
       0% {
         opacity: 0;
         transform: translateY(20px) scale(0.95);
       }
       100% {
         opacity: 1;
         transform: translateY(0) scale(1);
       }
     }
     button {
       background-color: #000;
       color: #0f0;
       border: 2px solid #0f0;
       padding: 12px 24px;
       font-size: clamp(16px, 5vw, 20px); 
       cursor: pointer;
       margin: 8px; 
       border-radius: 6px; 
       width: 90%;
       max-width: 300px;
       transition: background-color 0.2s, color 0.2s, transform 0.1s, box-shadow 0.2s;
     }
     button:hover:not(:disabled) { 
       background-color: #0f0;
       color: #000;
       box-shadow: 0 0 10px rgba(0, 255, 0, 0.6); 
     }
     button:active:not(:disabled) {
         transform: scale(0.97); 
     }
     button:disabled {
         border-color: #077007;
         color: #077007;
         cursor: not-allowed;
         opacity: 0.6; 
     }
     #shareBtn { 
       opacity: 0;
       visibility: hidden;
       transition: opacity 0.4s ease-in-out, visibility 0.4s ease-in-out;
     }
     #shareBtn.visible { 
         opacity: 1;
         visibility: visible;
     }
     .footer-info {
         margin-top: 40px; 
         display: flex;
         flex-direction: column;
         align-items: center;
         gap: 10px; 
     }
     .creator-credit {
         font-size: clamp(12px, 3.2vw, 14px); 
         color: rgba(0, 255, 0, 0.75);
         line-height: 1.5; 
     }
     .creator-credit .creator-name {
         color: #00ff00; 
         text-decoration: none; 
         font-weight: bold;
     }
     .creator-credit .creator-name:hover {
         color: #39FF14;
         text-decoration: underline;
     }
     #playCounter {
        margin-top: 15px; 
        margin-bottom: 10px;
        font-size: clamp(14px, 3.5vw, 16px); 
        color: #00cc00; 
        min-height: 20px; 
        display: none; 
     }
     @media (min-width: 768px) {
       h1 { font-size: 40px; letter-spacing: 0.1em;}
       #result { font-size: 50px; } 
       #characterDescription { font-size: 18px; }
       button { font-size: 20px; padding: 12px 32px; } 
       .creator-credit { font-size: 14px; }
       #playCounter { font-size: 16px; }
     }
  </style>
</head>
<body>
  <h1>Paralel Evrende<br>Hangi Hukuk Karakterisin?</h1>
  <hr class="separator"> 
  <div id="result">?</div>
  <div id="characterDescription"></div>
  <hr class="separator"> 
  
  <button id="playButton" onclick="playGame()">OYNA</button>
  <div id="playCounter">YÃ¼kleniyor...</div> 
  <button id="shareBtn" onclick="shareResult()">Sonucu X'te PaylaÅŸ</button> 

  <div class="footer-info">
     <p class="creator-credit">Bu bir <a href="https://twitter.com/lawmentalitty" target="_blank" class="creator-name">Yusuf</a> yapÄ±mÄ±dÄ±r. <br>GÃ¶rÃ¼ÅŸlerinizi X Ã¼zerinden iletebilirsiniz.</p>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
        try {
            const ogUrlMeta = document.querySelector('meta[property="og:url"]');
            if (ogUrlMeta) {
                ogUrlMeta.setAttribute('content', window.location.href);
            }
        } catch (e) {
            console.error("OG:URL ayarlama hatasÄ±:", e);
        }
        fetchAndShowPlayCount(true); 
        if (characterDescriptionEl) { // characterDescriptionEl tanÄ±mlÄ± mÄ± diye kontrol et
            characterDescriptionEl.style.display = 'none';
            characterDescriptionEl.classList.remove('visible');
        }
    });

    const characters = [ 
       { name: "ÅžeytanÄ±n AvukatÄ±", description: "Her tartÄ±ÅŸmada karÅŸÄ± tarafÄ±n avukatÄ±dÄ±r, bazen kendi gÃ¶lgesine bile dava aÃ§ar." },
       { name: "Gaip", description: "Kim olduÄŸunu kendi bile hatÄ±rlamÄ±yor, sÃ¼rekli kendini arÄ±yor; ama tebligattan kaÃ§makta Ã¼stÃ¼ne yoktur." },
       { name: "TutukluluÄŸa Ä°tirazÄ± Kabul Olan MÃ¼dafi", description: "Kariyerinin zirvesini bu anla yaÅŸadÄ±, her sohbetin konusu aynÄ±dÄ±r: \"O duruÅŸmayÄ± gÃ¶rmeliydiniz!\"" },
       { name: "Kanun Koyucu", description: "Sabah kalkar, canÄ± sÄ±kÄ±lÄ±r, yeni bir kanun Ã§Ä±karÄ±r; akÅŸam da \"E bu neydi ÅŸimdi?\" diye ÅŸaÅŸÄ±rÄ±r." },
       { name: "Themis", description: "Adaleti o kadar seviyor ki gÃ¶zÃ¼ baÄŸlÄ± dolaÅŸÄ±rken ara sÄ±ra takÄ±lÄ±p dÃ¼ÅŸer, terazisiyle de denge saÄŸlamaya Ã§alÄ±ÅŸÄ±r." },
       { name: "Asli Kurucu Ä°ktidar", description: "GerÃ§ekliÄŸin kurallarÄ±nÄ± o belirler; yer Ã§ekimini bile \"Anayasaya aykÄ±rÄ±!\" diye tartÄ±ÅŸmaya aÃ§abilir." },
       { name: "Evlenen", description: "MutluluÄŸu Medeni Kanun'da buldu, sÃ¼rekli nikah tazeleme peÅŸinde, her evlilik sÃ¶zleÅŸmesine kendi adÄ±nÄ± yazar." },
       { name: "GÃ¼veni KÃ¶tÃ¼ye KullanÄ±lan", description: "Herkese sonuna kadar gÃ¼venir, sonra \"Yine mi ben?\" diye etrafa bakar ve yeni bir 'gÃ¼veni kÃ¶tÃ¼ye kullanma' vakasÄ± baÅŸlatÄ±r." },
       { name: "Avukato", description: "CÃ¼bbesiyle doÄŸmuÅŸ, her kelimesi itirazla baÅŸlar; kahve sipariÅŸ ederken bile \"Mevcut duruma ÅŸerhim var!\" der." },
       { name: "Kader Mahkumu", description: "Her hatanÄ±n tek bir sorumlusu vardÄ±r: Kadere Ä°nfaz Dairesi; o sadece evrenin ona biÃ§tiÄŸi rolÃ¼ oynar." },
       { name: "Her Åžeye Ä°tiraz Eden", description: "Nefes alÄ±ÅŸÄ±nÄ±za bile itiraz edebilir, sessiz kalmak onun iÃ§in imkansÄ±zdÄ±r; \"Ama...\" diye baÅŸlayan cÃ¼mleleri bitmez." },
       { name: "Eser", description: "Her anÄ±, her dÃ¼ÅŸÃ¼ncesi tescilli bir eserdir, telif hakkÄ± talep etmeye hazÄ±r; sabah kahvaltÄ±sÄ±nÄ± bile 'sanatsal bir performans' olarak sunar." },
       { name: "BilirkiÅŸi", description: "Her konuda 'ufak bir fikri' vardÄ±r, genellikle bu 'ufak fikir' davayÄ± Ã§Ã¶zmez; ama raporu 50 sayfadan az olmaz." },
       { name: "SÃ¼re Stresi YaÅŸayan", description: "Takvim onun iÃ§in dÃ¼ÅŸmandÄ±r, sÃ¼rekli \"Son gÃ¼n mÃ¼ ne?\" diye panikler; hayatÄ± bir 'sÃ¼resiz itiraz sÃ¼resi' gibidir." },
       { name: "Nafaka Alan", description: "HayatÄ±n ona bir borcu vardÄ±, tahsilatÄ± dÃ¼zenli olarak yapar; en sevdiÄŸi ay, nafaka Ã¶demesinin yattÄ±ÄŸÄ± aydÄ±r." },
       { name: "Nafaka Ã–deyen", description: "CÃ¼zdanÄ± sÃ¼rekli nafaka davasÄ±na maruz kalmÄ±ÅŸ gibi boÅŸ ve Ã¼zgÃ¼ndÃ¼r; \"KeÅŸke nafaka borcu da zamanaÅŸÄ±mÄ±na uÄŸrasa\" diye iÃ§ Ã§eker." },
       { name: "Persona Non Grata", description: "Davetli bile olsa kapÄ±da \"Ä°sminiz listede yok\" denir; kendi evine girmek iÃ§in bile davetiye bekler." },
       { name: "Kumar OynanmasÄ± Ä°Ã§in Yer ve Ä°mkan SaÄŸlayan", description: "HayatÄ±ndaki her karar, baÅŸkasÄ± iÃ§in bÃ¼yÃ¼k bir kumardÄ±r; o sadece masayÄ± kurar ve \"Risk almak lazÄ±m!\" diye fÄ±sÄ±ldar." },
       { name: "Tutuklu (SevdiÄŸine KarÅŸÄ±)", description: "AÅŸkÄ±n hÃ¼crelerine tÄ±kÄ±lmÄ±ÅŸ, tahliye talebi reddedilmiÅŸ bir gÃ¶nÃ¼l mahkumudur; kelepÃ§esi kalbindedir." },
       { name: "AÅŸÄ±rÄ± Ä°yi Niyetli ÃœÃ§Ã¼ncÃ¼ KiÅŸi", description: "Her olaya iyi niyetle dalar, ortalÄ±k karÄ±ÅŸtÄ±ÄŸÄ±nda \"Ama ben yardÄ±m ediyordum!\" diye savunma yapar; sonuÃ§ genellikle daha bÃ¼yÃ¼k bir karmaÅŸadÄ±r." },
       { name: "Akraba Ä°ÅŸi Almak Zorunda Kalan", description: "Aile iÃ§i davalardan baÅŸÄ±nÄ± kaldÄ±ramaz; bayram ziyaretleri onun iÃ§in gizli iÅŸ gÃ¶rÃ¼ÅŸmelerine dÃ¶nÃ¼ÅŸÃ¼r." },
       { name: "Adliye MuhtarÄ±", description: "Adliyenin dedikodu merkezidir, kimin ne zaman nerede olacaÄŸÄ±nÄ± Ã¶nceden bilir; Ã§aycÄ±dan zabÄ±t katibine herkesle ahbaptÄ±r." },
       { name: "HaksÄ±z Rekabet OluÅŸturan", description: "Oyunlarda bile kural tanÄ±madan kazanÄ±r, \"AmaÃ§ sonuÃ§tur\" felsefesiyle yaÅŸar; rakibinin klavyesine kahve dÃ¶kmek mÃ¼bahtÄ±r." },
       { name: "SÃ¼rekli YargÄ±tay KararÄ± PaylaÅŸan", description: "Sosyal medyasÄ± YargÄ±tay bÃ¼lteni gibidir, hayatÄ±ndaki her olaya uygun bir iÃ§tihat bulur; kahve falÄ±na bile YargÄ±tay kararÄ±yla bakar." },
       { name: "AldatÄ±lan", description: "HayatÄ±n acÄ± gerÃ§ekleriyle her seferinde yeniden tanÄ±ÅŸÄ±r, \"Bunu beklemiyordum!\" favori cÃ¼mlesidir; ama yine de saf kalmaya devam eder." },
       { name: "Her Åžeye Tutanak Tutan", description: "Ã‡ay iÃ§erken bile 'Ã§ay iÃ§me tutanaÄŸÄ±' tutar; hayatÄ± baÅŸtan sona resmi belgedir, kiÅŸisel gÃ¼nlÃ¼ÄŸÃ¼ bile 'Gizli Tutanak' baÅŸlÄ±ÄŸÄ±yla baÅŸlar." },
       { name: "Elif EylÃ¼l", description: "Paralel evrenin hukuk fakÃ¼ltesinde efsane olmuÅŸ bir karakterdir, adÄ± her derste anÄ±lÄ±r ama kimse yÃ¼zÃ¼nÃ¼ gÃ¶rmemiÅŸtir; belki de bir dava dosyasÄ±na saklanmÄ±ÅŸtÄ±r." },
       { name: "Darbe Yapan (Kalplere)", description: "Duygu darbesi uzmanÄ±dÄ±r, kalpleri fethettikten sonra olaÄŸanÃ¼stÃ¼ hal ilan eder; sonra da hiÃ§bir hukuki sorumluluk kabul etmez." },
       { name: "DosyayÄ± KiÅŸiselleÅŸtiren", description: "Her dava onun iÃ§in kiÅŸisel bir meseledir, dosya iÃ§ine dÃ¼ÅŸman listesi ekler; mahkemede 'Bu dava benim iÃ§in ÅŸereftir!' diye baÄŸÄ±rÄ±r." },
       { name: "AÅŸÄ±rÄ± YararlanÄ±lan (Kendisinden)", description: "KullanÄ±m sÃ¼resi dolmuÅŸ bir eÅŸya gibidir, herkes ondan bir ÅŸeyler alÄ±r; bedava avukatlÄ±k yapmak kaderidir." },
       { name: "Terk Edilen", description: "DavacÄ± bile onu duruÅŸmada yalnÄ±z bÄ±rakÄ±r, \"Neredesiniz?\" diye sÃ¼rekli etrafa bakar; en sadÄ±k dostu dava dosyasÄ±dÄ±r." },
       { name: "AÄŸÄ±r Ceza Mahkemesi BaÅŸkanÄ±", description: "KahvaltÄ±da yumurtayÄ± kÄ±rarken bile 'suÃ§un vasÄ±f ve mahiyetini' dÃ¼ÅŸÃ¼nÃ¼r; marketteki sÄ±rayÄ± bozana anÄ±nda 'aÄŸÄ±r ceza' verir." },
       { name: "Memurlarla KavgalÄ± Olan", description: "Adliyedeki memurlarla gÃ¼nlÃ¼k rutini 'iyi gÃ¼nler' yerine 'itirazÄ±m var!' diye baÅŸlar; fotokopi makinesinin arÄ±zasÄ± bile ÅŸahsi bir saldÄ±rÄ±dÄ±r." },
       { name: "AlacaklÄ± (Hayattan)", description: "Hayat ona borÃ§luymuÅŸ gibi davranÄ±r, tebligatla mutluluk bekler; alacaÄŸÄ±nÄ± tahsil edemezse 'icra takibi' baÅŸlatmayÄ± dÃ¼ÅŸÃ¼nÃ¼r." },
       { name: "Adli Tatil SevdalÄ±sÄ±", description: "TÃ¼m yÄ±lÄ± Adli Tatil'e endeksler, takvimindeki tek Ã¶nemli tarih 20 Temmuz'dur; rÃ¼yasÄ±nda bile tebligat gelmediÄŸini gÃ¶rÃ¼r." },
       { name: "Sebepsiz ZenginleÅŸen", description: "Piyango bileti almaz ama sÃ¼rekli para bulur; hayat ona karÅŸÄ± sebepsizce bonkÃ¶r, yolda yÃ¼rÃ¼rken altÄ±n bulur." },
       { name: "DilekÃ§esinde Åžiir Kullanan", description: "Hukuk dilini ÅŸiirle harmanlar, hakime 'Ey Adil SultanÄ±m' diye dilekÃ§e sunar; kararÄ± beklerken muradiye okur." },
       { name: "Basiretli Tacir", description: "Ticari risk almaktan o kadar korkar ki, parayÄ± yastÄ±k altÄ±nda bile kasa iÃ§inde saklar; kredi kartÄ± kullanÄ±rken bile 40 kere dÃ¼ÅŸÃ¼nÃ¼r." },
       { name: "Harvey Specter", description: "Her adÄ±mÄ± jilet keskinliÄŸinde, her konuÅŸmasÄ± 'duruma Ã¶zel ayrÄ±calÄ±k' iÃ§erir; ama bazen fotokopi makinesini bile Ã§alÄ±ÅŸtÄ±ramaz, Ã§Ã¼nkÃ¼ o iÅŸler 'Donna'ya aittir." },
       { name: "Siyasi Parti Kuran", description: "Mahalledeki kedi sahipleri iÃ§in bile siyasi parti kurar, tÃ¼zÃ¼ÄŸÃ¼ 3 sayfadÄ±r; tek Ã¼yesi kendisidir." },
       { name: "Ã‡ekiÅŸmeli BoÅŸanma Seven", description: "MutluluÄŸu sadece Ã§ekiÅŸmeli boÅŸanma davalarÄ±ndaki gerilimde bulur; kendi evinde bile \"Seninle bu evliliÄŸin dava ÅŸartÄ± yok!\" diye tartÄ±ÅŸma Ã§Ä±karÄ±r." },
       { name: "Affeden Taraf", description: "TÃ¼m borÃ§larÄ±, tÃ¼m haksÄ±zlÄ±klarÄ± affeder; hayatÄ± 'ibra edilmiÅŸ alacaklar' listesidir, bu yÃ¼zden genellikle parasÄ±zdÄ±r." },
       { name: "Alkol veya UyuÅŸturucu Madde Etkisinde Olan Taraf", description: "SÃ¼rekli hukuki iÅŸlem ehliyeti tartÄ±ÅŸmalÄ±dÄ±r; hayatÄ± 'GeÃ§ici Ehliyetsizlik Raporu' ile geÃ§er, en net kararlarÄ±nÄ± bu halde alÄ±r." },
       { name: "YargÄ±tay Cumhuriyet BaÅŸsavcÄ±sÄ±", description: "HayatÄ±ndaki her 'hÃ¼kmÃ¼' bozar, 'Yerindelik denetimi yapamam!' diye baÄŸÄ±rarak dolaÅŸÄ±r; market fiÅŸlerini bile bozarak inceler." },
       { name: "Tam Ehliyetsiz (sevince)", description: "AÅŸÄ±k olunca notlarÄ±nÄ± kaybeder, adÄ±nÄ± unutur, hukuki iÅŸlem yapma ehliyetini tamamen yitirir; aÅŸkÄ±ndan dava aÃ§sa, davasÄ±nÄ± bile takip edemez." },
       { name: "Donatan", description: "Evdeki plastik Ã¶rdeÄŸi bile 'donatan sÄ±fatÄ±yla' yÃ¼zdÃ¼rÃ¼r; tÃ¼m eÅŸyalarÄ± iÃ§in gemi sicili ister, koltuÄŸu bile demirbaÅŸ deÄŸil, gemi sayar." },
       { name: "Ã–zel Hukuk GÃ¼zel KiÅŸisi", description: "Hukukun en estetik alanÄ±nda kendini bulur, her sÃ¶zleÅŸmeyi imza atmadan Ã¶nce 'Ä±ÅŸÄ±ÄŸÄ±na' bakar; Ticaret Hukuku onun iÃ§in bir podyumdur." },
       { name: "Saul Goodman", description: "Kartvizitleri her yerde Ã§Ä±kar, hukuki boÅŸluklarÄ± mikroskopla arar; \"Better Call...\" diye baÅŸlayan cÃ¼mleleri hayat felsefesidir." },
       { name: "NiÅŸanlanan", description: "Hukukun her alanÄ±yla niÅŸanlanÄ±r, ama evliliÄŸe bir tÃ¼rlÃ¼ karar veremez; 'aile hukuku' ile iliÅŸkisi sÃ¼rekli bir 'niÅŸanlÄ±lÄ±k dÃ¶nemi' gibidir." },
       { name: "DilekÃ§elerini Son GÃ¼ne BÄ±rakan", description: "Adrenalin baÄŸÄ±mlÄ±sÄ±dÄ±r, en yaratÄ±cÄ± fikirleri son 5 dakikada gelir; postaneye koÅŸarken hayatÄ±nÄ±n filmini Ã§eker." },
       { name: "Adli Tatilde Daha YoÄŸun Ã‡alÄ±ÅŸan", description: "Herkes tatil yaparken o ofiste nÃ¶bet tutar, \"Esas iÅŸler tatilde Ã§Ä±kar!\" mottosuyla yaÅŸar; bronzlaÅŸmak yerine dosya sarar." },
       { name: "CumhurbaÅŸkanÄ±", description: "Evdeki terlik daÄŸÄ±lÄ±mÄ±nÄ± bile 'CumhurbaÅŸkanlÄ±ÄŸÄ± Kararnamesi' ile dÃ¼zenler; Ã§ayÄ± ÅŸekersiz iÃ§meye 'Ulusal Birlik Ã‡aÄŸrÄ±sÄ±' adÄ±nÄ± verir." },
       { name: "Bedel Ã–deyen", description: "HayatÄ±n faturasÄ±nÄ± sÃ¼rekli ona keser, yaptÄ±ÄŸÄ± hiÃ§bir ÅŸey yanÄ±na kar kalmaz; otobÃ¼ste bile 'zararÄ±n tazmini' iÃ§in yer arar." },
       { name: "Alkol BaÄŸÄ±mlÄ±lÄ±ÄŸÄ± Sebebiyle KÄ±sÄ±tlanan", description: "Her yanlÄ±ÅŸ kararÄ±nÄ± 'kÄ±sÄ±tlÄ±lÄ±k halime verin' diye aÃ§Ä±klar; hayatÄ± 'vesayet altÄ±nda' geÃ§er, vasi olarak cÃ¼zdanÄ±nÄ± tayin etmiÅŸtir." }
    ];

    const resultEl = document.getElementById('result');
    const characterDescriptionEl = document.getElementById('characterDescription'); 
    const playButtonEl = document.getElementById('playButton');
    const shareBtn = document.getElementById('shareBtn');
    const playCounterEl = document.getElementById('playCounter'); 

    let gameAnimationSound;
    const gameAnimationDuration = 2200; 

    try {
        // LÃœTFEN 'audio/animasyon_sesi.mp3' KISMINI KENDÄ° MP3 DOSYANIZIN ADIYLA DEÄžÄ°ÅžTÄ°RÄ°N
        gameAnimationSound = new Audio('audio/animasyon_sesi.mp3'); 
        gameAnimationSound.preload = "auto";
        gameAnimationSound.load(); 
    } catch (e) {
        console.warn("Oyun animasyon sesi yÃ¼klenirken hata:", e);
        gameAnimationSound = { play: () => Promise.resolve(), pause: () => {}, load: () => {}, currentTime: 0 }; 
    }

    let intervalId;
    let displayOrderCharacters = []; 
    let currentDisplayIndex = 0; 

    function positionCounter(afterPlayButton) {
        if (playCounterEl && playButtonEl && shareBtn) {
            if (afterPlayButton) {
                playButtonEl.after(playCounterEl);
            } else {
                shareBtn.after(playCounterEl);
            }
            playCounterEl.style.display = 'block'; 
        }
    }

    async function fetchAndShowPlayCount(isInitialLoad = false) {
      try {
        const response = await fetch('/api/getPlayCount');
        if (!response.ok) {
          throw new Error(`Okunma sayÄ±sÄ± alÄ±namadÄ±: ${response.statusText}`);
        }
        const data = await response.json();
        if (playCounterEl) {
          playCounterEl.textContent = `Bu oyun ${data.count} kez oynandÄ±.`;
          if (isInitialLoad) {
            positionCounter(true); 
          }
        }
      } catch (error) {
        console.error('SayaÃ§ getirme hatasÄ±:', error);
        if (playCounterEl) {
          playCounterEl.textContent = 'Oynanma sayÄ±sÄ± yÃ¼klenemedi.';
          if (isInitialLoad) {
            positionCounter(true); 
          }
        }
      }
    }

    async function incrementAndShowPlayCount() {
      try {
        const response = await fetch('/api/incrementPlayCount', { method: 'POST' });
        if (!response.ok) {
          throw new Error(`SayaÃ§ arttÄ±rÄ±lamadÄ±: ${response.statusText}`);
        }
        const data = await response.json();
        if (playCounterEl) {
          playCounterEl.textContent = `Bu oyun ${data.count} kez oynandÄ±.`;
        }
        return data.count; 
      } catch (error) {
        console.error('SayaÃ§ artÄ±rma hatasÄ±:', error);
        return null;
      }
    }

    async function playGame() { 
      if (gameAnimationSound && typeof gameAnimationSound.play === 'function') {
        gameAnimationSound.currentTime = 0; 
        gameAnimationSound.play().catch(e => console.warn("Animasyon sesi Ã§alÄ±namadÄ±:", e));
      }

      incrementAndShowPlayCount().then(newCount => {
        if (newCount !== null) {
          console.log("SayaÃ§ baÅŸarÄ±yla arttÄ±rÄ±ldÄ±, yeni deÄŸer:", newCount);
        }
      });
      
      positionCounter(true); 

      if (characterDescriptionEl) { // Ã–nce tanÄ±mlÄ± mÄ± diye kontrol et
        characterDescriptionEl.style.display = 'none'; 
        characterDescriptionEl.classList.remove('visible'); 
        characterDescriptionEl.textContent = ''; 
      }


      shareBtn.classList.remove('visible'); 
      resultEl.classList.remove('revealed'); 
      resultEl.style.opacity = '0'; 
      resultEl.style.boxShadow = 'none'; 
       
      resultEl.textContent = "?";
      resultEl.classList.add('flickering'); 
       
      if(playButtonEl) {
          playButtonEl.disabled = true;
          playButtonEl.style.display = 'none'; 
      }

      if (intervalId) {
          clearInterval(intervalId);
      }

      displayOrderCharacters = [...characters]; 
      currentDisplayIndex = 0;

      intervalId = setInterval(() => {
          if (displayOrderCharacters.length > 0) {
              resultEl.textContent = displayOrderCharacters[currentDisplayIndex % displayOrderCharacters.length].name; 
              currentDisplayIndex++; 
          }
      }, 75); 

      setTimeout(() => {
          clearInterval(intervalId);
          if (gameAnimationSound && typeof gameAnimationSound.pause === 'function') {
            gameAnimationSound.pause();
          }

          resultEl.classList.remove('flickering');

          const finalCharacter = characters[Math.floor(Math.random() * characters.length)]; 
          
          resultEl.textContent = finalCharacter.name; 
          resultEl.classList.add('revealed');
          
          if (characterDescriptionEl) { // Ã–nce tanÄ±mlÄ± mÄ± diye kontrol et
            characterDescriptionEl.textContent = finalCharacter.description;
            characterDescriptionEl.style.display = 'block'; 
            setTimeout(() => {
                characterDescriptionEl.classList.add('visible');
            }, 50); 
          }
           
          shareBtn.classList.add('visible'); 
          shareBtn.dataset.character = finalCharacter.name; 
          if(playButtonEl) {
              playButtonEl.textContent = "TEKRAR OYNA? ðŸ”„"; 
              playButtonEl.disabled = false;
              playButtonEl.style.display = 'block'; 
          }
          positionCounter(false); 
      }, gameAnimationDuration); 
    }

    function shareResult() {
      const character = shareBtn.dataset.character;
      openTwitterIntent(character); 
    }
    function openTwitterIntent(character) {
        if (!character) character = "bilinmeyen_karakter"; 
        const text = encodeURIComponent(`Paralel evrende ben bir "${character}" oldum! Sen kimsin? ðŸ¤¯ #ParalelHukukEvreni`);
        const url = encodeURIComponent(window.location.href);
        const twitterUrl = `https://twitter.com/intent/tweet?text=${text}&url=${url}`;
        window.open(twitterUrl, '_blank');
    }
  </script>
</body>
</html>
