<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta property="og:title" content="Paralel Evrende Hangi Hukuk Karakterisin?">
  <meta property="og:description" content="Hukuk karakterlerinden hangisi olduğunu keşfetmek için bu eğlenceli testi çöz ve sonucunu paylaş!">
  <meta property="og:image" content="https://via.placeholder.com/1200x630/000000/00FF00?text=Paralel+Evren+Hukuk+Oyunu"> <meta property="og:url" content=""> 
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary_large_image">

  <title>Paralel Evrende Hangi Hukuk Karakterisin?</title>
  <style>
     * {
       box-sizing: border-box;
     }
     body {
       background-color: black;
       color: #00ff00;
       font-family: monospace;
       display: flex;
       flex-direction: column;
       align-items: center;
       justify-content: center;
       padding: 20px;
       min-height: 100vh;
       margin: 0;
       text-align: center;
     }
     h1 { 
       font-size: clamp(26px, 6vw, 40px); 
       font-weight: normal;
       color: #00dd00; 
       text-transform: uppercase;
       letter-spacing: 0.08em;
       width: 90%;
       margin-top: 20px; 
       margin-bottom: 25px; 
       line-height: 1.3;
     }
     .separator { 
         width: 70%;
         max-width: 350px;
         border: none;
         height: 1px;
         background: linear-gradient(to right, transparent, rgba(0,255,0,0.35), transparent);
         margin: 20px 0;
     }
     #result {
       font-size: clamp(32px, 8vw, 50px); 
       min-height: 50px; 
       margin-bottom: 5px; 
       font-weight: bold;
       color: #39FF14;
       opacity: 0; 
       padding: 10px; 
       transition: box-shadow 0.3s ease-out; 
     }
     #characterDescription {
        font-size: clamp(15px, 3.8vw, 18px);
        color: #00dd00; 
        margin-top: 5px; 
        margin-bottom: 15px; 
        line-height: 1.5;
        max-width: 90%; 
        opacity: 0; 
        transition: opacity 0.5s ease-in-out;
     }
     #characterDescription.visible {
        opacity: 1;
     }
     #result.flickering { 
       opacity: 1; 
       animation: flickerAnimation 0.2s infinite;
       box-shadow: none; 
     }
     #result.revealed { 
         animation: revealResultAnimation 0.6s ease-out forwards;
         box-shadow: 0 0 20px rgba(57, 255, 20, 0.25), 
                       0 0 8px rgba(57, 255, 20, 0.2) inset;
     }
     @keyframes flickerAnimation {
       0%, 100% { opacity: 1; }
       50% { opacity: 0.4; }
     }
     @keyframes revealResultAnimation { 
       0% {
         opacity: 0;
         transform: translateY(20px) scale(0.95);
       }
       100% {
         opacity: 1;
         transform: translateY(0) scale(1);
       }
     }
     button {
       background-color: #000;
       color: #0f0;
       border: 2px solid #0f0;
       padding: 12px 24px;
       font-size: clamp(16px, 5vw, 20px); 
       cursor: pointer;
       margin: 8px; 
       border-radius: 6px; 
       width: 90%;
       max-width: 300px;
       transition: background-color 0.2s, color 0.2s, transform 0.1s, box-shadow 0.2s;
     }
     button:hover:not(:disabled) { 
       background-color: #0f0;
       color: #000;
       box-shadow: 0 0 10px rgba(0, 255, 0, 0.6); 
     }
     button:active:not(:disabled) {
         transform: scale(0.97); 
     }
     button:disabled {
         border-color: #077007;
         color: #077007;
         cursor: not-allowed;
         opacity: 0.6; 
     }
     #shareBtn { 
       opacity: 0;
       visibility: hidden;
       transition: opacity 0.4s ease-in-out, visibility 0.4s ease-in-out;
     }
     #shareBtn.visible { 
         opacity: 1;
         visibility: visible;
     }
     .footer-info {
         margin-top: 40px; 
         display: flex;
         flex-direction: column;
         align-items: center;
         gap: 10px; 
     }
     .creator-credit {
         font-size: clamp(12px, 3.2vw, 14px); 
         color: rgba(0, 255, 0, 0.75);
         line-height: 1.5; 
     }
     .creator-credit .creator-name {
         color: #00ff00; 
         text-decoration: none; 
         font-weight: bold;
     }
     .creator-credit .creator-name:hover {
         color: #39FF14;
         text-decoration: underline;
     }
     #playCounter {
        margin-top: 15px; 
        margin-bottom: 10px;
        font-size: clamp(14px, 3.5vw, 16px); 
        color: #00cc00; 
        min-height: 20px; 
        display: none; 
     }
     @media (min-width: 768px) {
       h1 { font-size: 40px; letter-spacing: 0.1em;}
       #result { font-size: 50px; } 
       #characterDescription { font-size: 18px; }
       button { font-size: 20px; padding: 12px 32px; } 
       .creator-credit { font-size: 14px; }
       #playCounter { font-size: 16px; }
     }
  </style>
</head>
<body>
  <h1>Paralel Evrende<br>Hangi Hukuk Karakterisin?</h1>
  <hr class="separator"> 
  <div id="result">?</div>
  <div id="characterDescription"></div>
  <hr class="separator"> 
  
  <button id="playButton" onclick="playGame()">OYNA</button>
  <div id="playCounter">Yükleniyor...</div> 
  <button id="shareBtn" onclick="shareResult()">Sonucu X'te Paylaş</button> 

  <div class="footer-info">
     <p class="creator-credit">Bu bir <a href="https://twitter.com/lawmentalitty" target="_blank" class="creator-name">Yusuf</a> yapımıdır. <br>Görüşlerinizi X üzerinden iletebilirsiniz.</p>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
        try {
            const ogUrlMeta = document.querySelector('meta[property="og:url"]');
            if (ogUrlMeta) {
                ogUrlMeta.setAttribute('content', window.location.href);
            }
        } catch (e) {
            console.error("OG:URL ayarlama hatası:", e);
        }
        fetchAndShowPlayCount(true); 
        if (characterDescriptionEl) { // characterDescriptionEl tanımlı mı diye kontrol et
            characterDescriptionEl.style.display = 'none';
            characterDescriptionEl.classList.remove('visible');
        }
    });

    const characters = [ 
       { name: "Şeytanın Avukatı", description: "Her tartışmada karşı tarafın avukatıdır, bazen kendi gölgesine bile dava açar." },
       { name: "Gaip", description: "Kim olduğunu kendi bile hatırlamıyor, sürekli kendini arıyor; ama tebligattan kaçmakta üstüne yoktur." },
       { name: "Tutukluluğa İtirazı Kabul Olan Müdafi", description: "Kariyerinin zirvesini bu anla yaşadı, her sohbetin konusu aynıdır: \"O duruşmayı görmeliydiniz!\"" },
       { name: "Kanun Koyucu", description: "Sabah kalkar, canı sıkılır, yeni bir kanun çıkarır; akşam da \"E bu neydi şimdi?\" diye şaşırır." },
       { name: "Themis", description: "Adaleti o kadar seviyor ki gözü bağlı dolaşırken ara sıra takılıp düşer, terazisiyle de denge sağlamaya çalışır." },
       { name: "Asli Kurucu İktidar", description: "Gerçekliğin kurallarını o belirler; yer çekimini bile \"Anayasaya aykırı!\" diye tartışmaya açabilir." },
       { name: "Evlenen", description: "Mutluluğu Medeni Kanun'da buldu, sürekli nikah tazeleme peşinde, her evlilik sözleşmesine kendi adını yazar." },
       { name: "Güveni Kötüye Kullanılan", description: "Herkese sonuna kadar güvenir, sonra \"Yine mi ben?\" diye etrafa bakar ve yeni bir 'güveni kötüye kullanma' vakası başlatır." },
       { name: "Avukato", description: "Cübbesiyle doğmuş, her kelimesi itirazla başlar; kahve sipariş ederken bile \"Mevcut duruma şerhim var!\" der." },
       { name: "Kader Mahkumu", description: "Her hatanın tek bir sorumlusu vardır: Kadere İnfaz Dairesi; o sadece evrenin ona biçtiği rolü oynar." },
       { name: "Her Şeye İtiraz Eden", description: "Nefes alışınıza bile itiraz edebilir, sessiz kalmak onun için imkansızdır; \"Ama...\" diye başlayan cümleleri bitmez." },
       { name: "Eser", description: "Her anı, her düşüncesi tescilli bir eserdir, telif hakkı talep etmeye hazır; sabah kahvaltısını bile 'sanatsal bir performans' olarak sunar." },
       { name: "Bilirkişi", description: "Her konuda 'ufak bir fikri' vardır, genellikle bu 'ufak fikir' davayı çözmez; ama raporu 50 sayfadan az olmaz." },
       { name: "Süre Stresi Yaşayan", description: "Takvim onun için düşmandır, sürekli \"Son gün mü ne?\" diye panikler; hayatı bir 'süresiz itiraz süresi' gibidir." },
       { name: "Nafaka Alan", description: "Hayatın ona bir borcu vardı, tahsilatı düzenli olarak yapar; en sevdiği ay, nafaka ödemesinin yattığı aydır." },
       { name: "Nafaka Ödeyen", description: "Cüzdanı sürekli nafaka davasına maruz kalmış gibi boş ve üzgündür; \"Keşke nafaka borcu da zamanaşımına uğrasa\" diye iç çeker." },
       { name: "Persona Non Grata", description: "Davetli bile olsa kapıda \"İsminiz listede yok\" denir; kendi evine girmek için bile davetiye bekler." },
       { name: "Kumar Oynanması İçin Yer ve İmkan Sağlayan", description: "Hayatındaki her karar, başkası için büyük bir kumardır; o sadece masayı kurar ve \"Risk almak lazım!\" diye fısıldar." },
       { name: "Tutuklu (Sevdiğine Karşı)", description: "Aşkın hücrelerine tıkılmış, tahliye talebi reddedilmiş bir gönül mahkumudur; kelepçesi kalbindedir." },
       { name: "Aşırı İyi Niyetli Üçüncü Kişi", description: "Her olaya iyi niyetle dalar, ortalık karıştığında \"Ama ben yardım ediyordum!\" diye savunma yapar; sonuç genellikle daha büyük bir karmaşadır." },
       { name: "Akraba İşi Almak Zorunda Kalan", description: "Aile içi davalardan başını kaldıramaz; bayram ziyaretleri onun için gizli iş görüşmelerine dönüşür." },
       { name: "Adliye Muhtarı", description: "Adliyenin dedikodu merkezidir, kimin ne zaman nerede olacağını önceden bilir; çaycıdan zabıt katibine herkesle ahbaptır." },
       { name: "Haksız Rekabet Oluşturan", description: "Oyunlarda bile kural tanımadan kazanır, \"Amaç sonuçtur\" felsefesiyle yaşar; rakibinin klavyesine kahve dökmek mübahtır." },
       { name: "Sürekli Yargıtay Kararı Paylaşan", description: "Sosyal medyası Yargıtay bülteni gibidir, hayatındaki her olaya uygun bir içtihat bulur; kahve falına bile Yargıtay kararıyla bakar." },
       { name: "Aldatılan", description: "Hayatın acı gerçekleriyle her seferinde yeniden tanışır, \"Bunu beklemiyordum!\" favori cümlesidir; ama yine de saf kalmaya devam eder." },
       { name: "Her Şeye Tutanak Tutan", description: "Çay içerken bile 'çay içme tutanağı' tutar; hayatı baştan sona resmi belgedir, kişisel günlüğü bile 'Gizli Tutanak' başlığıyla başlar." },
       { name: "Elif Eylül", description: "Paralel evrenin hukuk fakültesinde efsane olmuş bir karakterdir, adı her derste anılır ama kimse yüzünü görmemiştir; belki de bir dava dosyasına saklanmıştır." },
       { name: "Darbe Yapan (Kalplere)", description: "Duygu darbesi uzmanıdır, kalpleri fethettikten sonra olağanüstü hal ilan eder; sonra da hiçbir hukuki sorumluluk kabul etmez." },
       { name: "Dosyayı Kişiselleştiren", description: "Her dava onun için kişisel bir meseledir, dosya içine düşman listesi ekler; mahkemede 'Bu dava benim için şereftir!' diye bağırır." },
       { name: "Aşırı Yararlanılan (Kendisinden)", description: "Kullanım süresi dolmuş bir eşya gibidir, herkes ondan bir şeyler alır; bedava avukatlık yapmak kaderidir." },
       { name: "Terk Edilen", description: "Davacı bile onu duruşmada yalnız bırakır, \"Neredesiniz?\" diye sürekli etrafa bakar; en sadık dostu dava dosyasıdır." },
       { name: "Ağır Ceza Mahkemesi Başkanı", description: "Kahvaltıda yumurtayı kırarken bile 'suçun vasıf ve mahiyetini' düşünür; marketteki sırayı bozana anında 'ağır ceza' verir." },
       { name: "Memurlarla Kavgalı Olan", description: "Adliyedeki memurlarla günlük rutini 'iyi günler' yerine 'itirazım var!' diye başlar; fotokopi makinesinin arızası bile şahsi bir saldırıdır." },
       { name: "Alacaklı (Hayattan)", description: "Hayat ona borçluymuş gibi davranır, tebligatla mutluluk bekler; alacağını tahsil edemezse 'icra takibi' başlatmayı düşünür." },
       { name: "Adli Tatil Sevdalısı", description: "Tüm yılı Adli Tatil'e endeksler, takvimindeki tek önemli tarih 20 Temmuz'dur; rüyasında bile tebligat gelmediğini görür." },
       { name: "Sebepsiz Zenginleşen", description: "Piyango bileti almaz ama sürekli para bulur; hayat ona karşı sebepsizce bonkör, yolda yürürken altın bulur." },
       { name: "Dilekçesinde Şiir Kullanan", description: "Hukuk dilini şiirle harmanlar, hakime 'Ey Adil Sultanım' diye dilekçe sunar; kararı beklerken muradiye okur." },
       { name: "Basiretli Tacir", description: "Ticari risk almaktan o kadar korkar ki, parayı yastık altında bile kasa içinde saklar; kredi kartı kullanırken bile 40 kere düşünür." },
       { name: "Harvey Specter", description: "Her adımı jilet keskinliğinde, her konuşması 'duruma özel ayrıcalık' içerir; ama bazen fotokopi makinesini bile çalıştıramaz, çünkü o işler 'Donna'ya aittir." },
       { name: "Siyasi Parti Kuran", description: "Mahalledeki kedi sahipleri için bile siyasi parti kurar, tüzüğü 3 sayfadır; tek üyesi kendisidir." },
       { name: "Çekişmeli Boşanma Seven", description: "Mutluluğu sadece çekişmeli boşanma davalarındaki gerilimde bulur; kendi evinde bile \"Seninle bu evliliğin dava şartı yok!\" diye tartışma çıkarır." },
       { name: "Affeden Taraf", description: "Tüm borçları, tüm haksızlıkları affeder; hayatı 'ibra edilmiş alacaklar' listesidir, bu yüzden genellikle parasızdır." },
       { name: "Alkol veya Uyuşturucu Madde Etkisinde Olan Taraf", description: "Sürekli hukuki işlem ehliyeti tartışmalıdır; hayatı 'Geçici Ehliyetsizlik Raporu' ile geçer, en net kararlarını bu halde alır." },
       { name: "Yargıtay Cumhuriyet Başsavcısı", description: "Hayatındaki her 'hükmü' bozar, 'Yerindelik denetimi yapamam!' diye bağırarak dolaşır; market fişlerini bile bozarak inceler." },
       { name: "Tam Ehliyetsiz (sevince)", description: "Aşık olunca notlarını kaybeder, adını unutur, hukuki işlem yapma ehliyetini tamamen yitirir; aşkından dava açsa, davasını bile takip edemez." },
       { name: "Donatan", description: "Evdeki plastik ördeği bile 'donatan sıfatıyla' yüzdürür; tüm eşyaları için gemi sicili ister, koltuğu bile demirbaş değil, gemi sayar." },
       { name: "Özel Hukuk Güzel Kişisi", description: "Hukukun en estetik alanında kendini bulur, her sözleşmeyi imza atmadan önce 'ışığına' bakar; Ticaret Hukuku onun için bir podyumdur." },
       { name: "Saul Goodman", description: "Kartvizitleri her yerde çıkar, hukuki boşlukları mikroskopla arar; \"Better Call...\" diye başlayan cümleleri hayat felsefesidir." },
       { name: "Nişanlanan", description: "Hukukun her alanıyla nişanlanır, ama evliliğe bir türlü karar veremez; 'aile hukuku' ile ilişkisi sürekli bir 'nişanlılık dönemi' gibidir." },
       { name: "Dilekçelerini Son Güne Bırakan", description: "Adrenalin bağımlısıdır, en yaratıcı fikirleri son 5 dakikada gelir; postaneye koşarken hayatının filmini çeker." },
       { name: "Adli Tatilde Daha Yoğun Çalışan", description: "Herkes tatil yaparken o ofiste nöbet tutar, \"Esas işler tatilde çıkar!\" mottosuyla yaşar; bronzlaşmak yerine dosya sarar." },
       { name: "Cumhurbaşkanı", description: "Evdeki terlik dağılımını bile 'Cumhurbaşkanlığı Kararnamesi' ile düzenler; çayı şekersiz içmeye 'Ulusal Birlik Çağrısı' adını verir." },
       { name: "Bedel Ödeyen", description: "Hayatın faturasını sürekli ona keser, yaptığı hiçbir şey yanına kar kalmaz; otobüste bile 'zararın tazmini' için yer arar." },
       { name: "Alkol Bağımlılığı Sebebiyle Kısıtlanan", description: "Her yanlış kararını 'kısıtlılık halime verin' diye açıklar; hayatı 'vesayet altında' geçer, vasi olarak cüzdanını tayin etmiştir." }
    ];

    const resultEl = document.getElementById('result');
    const characterDescriptionEl = document.getElementById('characterDescription'); 
    const playButtonEl = document.getElementById('playButton');
    const shareBtn = document.getElementById('shareBtn');
    const playCounterEl = document.getElementById('playCounter'); 

    let gameAnimationSound;
    const gameAnimationDuration = 2200; 

    try {
        // LÜTFEN 'audio/animasyon_sesi.mp3' KISMINI KENDİ MP3 DOSYANIZIN ADIYLA DEĞİŞTİRİN
        gameAnimationSound = new Audio('audio/animasyon_sesi.mp3'); 
        gameAnimationSound.preload = "auto";
        gameAnimationSound.load(); 
    } catch (e) {
        console.warn("Oyun animasyon sesi yüklenirken hata:", e);
        gameAnimationSound = { play: () => Promise.resolve(), pause: () => {}, load: () => {}, currentTime: 0 }; 
    }

    let intervalId;
    let displayOrderCharacters = []; 
    let currentDisplayIndex = 0; 

    function positionCounter(afterPlayButton) {
        if (playCounterEl && playButtonEl && shareBtn) {
            if (afterPlayButton) {
                playButtonEl.after(playCounterEl);
            } else {
                shareBtn.after(playCounterEl);
            }
            playCounterEl.style.display = 'block'; 
        }
    }

    async function fetchAndShowPlayCount(isInitialLoad = false) {
      try {
        const response = await fetch('/api/getPlayCount');
        if (!response.ok) {
          throw new Error(`Okunma sayısı alınamadı: ${response.statusText}`);
        }
        const data = await response.json();
        if (playCounterEl) {
          playCounterEl.textContent = `Bu oyun ${data.count} kez oynandı.`;
          if (isInitialLoad) {
            positionCounter(true); 
          }
        }
      } catch (error) {
        console.error('Sayaç getirme hatası:', error);
        if (playCounterEl) {
          playCounterEl.textContent = 'Oynanma sayısı yüklenemedi.';
          if (isInitialLoad) {
            positionCounter(true); 
          }
        }
      }
    }

    async function incrementAndShowPlayCount() {
      try {
        const response = await fetch('/api/incrementPlayCount', { method: 'POST' });
        if (!response.ok) {
          throw new Error(`Sayaç arttırılamadı: ${response.statusText}`);
        }
        const data = await response.json();
        if (playCounterEl) {
          playCounterEl.textContent = `Bu oyun ${data.count} kez oynandı.`;
        }
        return data.count; 
      } catch (error) {
        console.error('Sayaç artırma hatası:', error);
        return null;
      }
    }

    async function playGame() { 
      if (gameAnimationSound && typeof gameAnimationSound.play === 'function') {
        gameAnimationSound.currentTime = 0; 
        gameAnimationSound.play().catch(e => console.warn("Animasyon sesi çalınamadı:", e));
      }

      incrementAndShowPlayCount().then(newCount => {
        if (newCount !== null) {
          console.log("Sayaç başarıyla arttırıldı, yeni değer:", newCount);
        }
      });
      
      positionCounter(true); 

      if (characterDescriptionEl) { // Önce tanımlı mı diye kontrol et
        characterDescriptionEl.style.display = 'none'; 
        characterDescriptionEl.classList.remove('visible'); 
        characterDescriptionEl.textContent = ''; 
      }


      shareBtn.classList.remove('visible'); 
      resultEl.classList.remove('revealed'); 
      resultEl.style.opacity = '0'; 
      resultEl.style.boxShadow = 'none'; 
       
      resultEl.textContent = "?";
      resultEl.classList.add('flickering'); 
       
      if(playButtonEl) {
          playButtonEl.disabled = true;
          playButtonEl.style.display = 'none'; 
      }

      if (intervalId) {
          clearInterval(intervalId);
      }

      displayOrderCharacters = [...characters]; 
      currentDisplayIndex = 0;

      intervalId = setInterval(() => {
          if (displayOrderCharacters.length > 0) {
              resultEl.textContent = displayOrderCharacters[currentDisplayIndex % displayOrderCharacters.length].name; 
              currentDisplayIndex++; 
          }
      }, 75); 

      setTimeout(() => {
          clearInterval(intervalId);
          if (gameAnimationSound && typeof gameAnimationSound.pause === 'function') {
            gameAnimationSound.pause();
          }

          resultEl.classList.remove('flickering');

          const finalCharacter = characters[Math.floor(Math.random() * characters.length)]; 
          
          resultEl.textContent = finalCharacter.name; 
          resultEl.classList.add('revealed');
          
          if (characterDescriptionEl) { // Önce tanımlı mı diye kontrol et
            characterDescriptionEl.textContent = finalCharacter.description;
            characterDescriptionEl.style.display = 'block'; 
            setTimeout(() => {
                characterDescriptionEl.classList.add('visible');
            }, 50); 
          }
           
          shareBtn.classList.add('visible'); 
          shareBtn.dataset.character = finalCharacter.name; 
          if(playButtonEl) {
              playButtonEl.textContent = "TEKRAR OYNA? 🔄"; 
              playButtonEl.disabled = false;
              playButtonEl.style.display = 'block'; 
          }
          positionCounter(false); 
      }, gameAnimationDuration); 
    }

    function shareResult() {
      const character = shareBtn.dataset.character;
      openTwitterIntent(character); 
    }
    function openTwitterIntent(character) {
        if (!character) character = "bilinmeyen_karakter"; 
        const text = encodeURIComponent(`Paralel evrende ben bir "${character}" oldum! Sen kimsin? 🤯 #ParalelHukukEvreni`);
        const url = encodeURIComponent(window.location.href);
        const twitterUrl = `https://twitter.com/intent/tweet?text=${text}&url=${url}`;
        window.open(twitterUrl, '_blank');
    }
  </script>
</body>
</html>
